{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\subai\\\\OneDrive\\\\Desktop\\\\fyp-19\\\\sman\\\\sman\\\\src\\\\pages\\\\admin\\\\SaleDetail.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Layout from \"../Layout\";\nimport CartItem from \"../../components/MyHeader/CartCon/Item\";\nimport styles from \"./sales.module.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function SaleDetail(_ref) {\n  _s();\n\n  let {\n    token\n  } = _ref;\n  const {\n    id\n  } = useParams();\n  const [state, setState] = useState(null);\n\n  const getData = async () => {\n    try {\n      const res = await axios.get(`/sales/${id}`, {\n        headers: {\n          authorization: `Bearer ${token}`\n        }\n      });\n      setState(res.data.results);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n  if (!state) return;\n  const {\n    street,\n    zip,\n    city,\n    house\n  } = state.address;\n  const {\n    username,\n    email\n  } = state.userInfo;\n\n  const updateStatus = async status => {\n    try {\n      await axios.put(`/sales/${id}`, {\n        status\n      }, {\n        headers: {\n          authorization: `Bearer ${token}`\n        }\n      });\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        className: styles.saleDetailHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: [\"Order Detail - \", id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Update Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            defaultValue: state.status,\n            onChange: e => updateStatus(e.target.value),\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"Select an option\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"delivered\",\n              children: \"Delivered\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: house && street ? \"shipped\" : \"packed\",\n              children: house && street && city ? \"Shipped\" : \"Packed\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 56,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Customer Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Name \", username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Email \", email]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Shipping Address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Street # \", street, \", house # \", house, \" \", city, \", zip - \", zip]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"article\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Product Details\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: state.pills.map(product => /*#__PURE__*/_jsxDEV(CartItem, { ...product,\n            admin: true\n          }, product._id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SaleDetail, \"MWEEfLxRiO2oBfOQ2Kq+xlwWtdk=\", false, function () {\n  return [useParams];\n});\n\n_c = SaleDetail;\n\nvar _c;\n\n$RefreshReg$(_c, \"SaleDetail\");","map":{"version":3,"names":["React","useEffect","useState","useParams","Layout","CartItem","styles","axios","SaleDetail","token","id","state","setState","getData","res","get","headers","authorization","data","results","err","console","log","street","zip","city","house","address","username","email","userInfo","updateStatus","status","put","error","saleDetailHeader","e","target","value","pills","map","product","_id"],"sources":["C:/Users/subai/OneDrive/Desktop/fyp-19/sman/sman/src/pages/admin/SaleDetail.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams } from \"react-router-dom\";\nimport Layout from \"../Layout\";\nimport CartItem from \"../../components/MyHeader/CartCon/Item\";\nimport styles from \"./sales.module.css\";\nimport axios from \"axios\";\n\nexport default function SaleDetail({ token }) {\n  const { id } = useParams();\n  const [state, setState] = useState(null);\n\n  const getData = async () => {\n    try {\n      const res = await axios.get(`/sales/${id}`, {\n        headers: { authorization: `Bearer ${token}` },\n      });\n      setState(res.data.results);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  if (!state) return;\n  const { street, zip, city, house } = state.address;\n  const { username, email } = state.userInfo;\n\n  const updateStatus = async (status) => {\n    try {\n      await axios.put(\n        `/sales/${id}`,\n        { status },\n        { headers: { authorization: `Bearer ${token}` } }\n      );\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  return (\n    <Layout>\n      <div className=\"p-1\">\n        <header className={styles.saleDetailHeader}>\n          <h1>Order Detail - {id}</h1>\n          <div>\n            <span>Update Status</span>\n            <select\n              defaultValue={state.status}\n              onChange={(e) => updateStatus(e.target.value)}\n            >\n              <option>Select an option</option>\n              <option value=\"delivered\">Delivered</option>\n              <option value={house && street ? \"shipped\" : \"packed\"}>\n                {house && street && city ? \"Shipped\" : \"Packed\"}\n              </option>\n            </select>\n          </div>\n        </header>\n        <article>\n          <h2>Customer Details</h2>\n          <p>Name {username}</p>\n          <p>Email {email}</p>\n          <h2>Shipping Address</h2>\n          <p>\n            Street # {street}, house # {house} {city}, zip - {zip}\n          </p>\n        </article>\n\n        <article>\n          <h2>Product Details</h2>\n          <div>\n            {state.pills.map((product) => (\n              <CartItem key={product._id} {...product} admin={true} />\n            ))}\n          </div>\n        </article>\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}