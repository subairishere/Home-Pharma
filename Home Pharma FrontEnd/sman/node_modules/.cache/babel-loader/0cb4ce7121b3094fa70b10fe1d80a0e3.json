{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\subai\\\\OneDrive\\\\Desktop\\\\fyp-19\\\\sman\\\\sman\\\\src\\\\pages\\\\admin\\\\AddDoctor.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useContext, useRef } from \"react\";\nimport AuthContext from \"../../context/AuthContext\";\nimport Layout from \"../Layout\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst initialState = {\n  name: \"\",\n  specialization: \"\",\n  phone: \"\",\n  tags: \"\"\n};\nexport default function AddDoctor() {\n  _s();\n\n  const [state, setState] = useState({ ...initialState\n  });\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  const [error, setError] = useState(false);\n  const auth = useContext(AuthContext);\n  const imgRef = useRef(null);\n  const token = auth.getToken();\n\n  const onSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMsg(\"\");\n    setError(null);\n\n    try {\n      const formData = new FormData();\n      formData.append(\"name\", state.name);\n      formData.append(\"specialization\", state.specialization);\n      formData.append(\"phone\", state.phone);\n      formData.append(\"tags\", state.tags);\n      const img = imgRef.current.files[0];\n      formData.append(\"file\", img);\n      await axios.post(\"/doctors\", formData, {\n        headers: {\n          authorization: `Bearer ${token}`\n        }\n      });\n      setState({ ...initialState\n      });\n      e.target.reset();\n      setError(false);\n      setMsg(\"Doctor Created Successfully\");\n    } catch (err) {\n      console.log(err);\n      setError(true);\n    }\n\n    setLoading(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"section\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-1 form-container\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Add a Doctor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          className: \"form\",\n          onSubmit: onSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Dr. Name\",\n            value: state.name,\n            onChange: e => setState({ ...state,\n              name: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 61,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Specialization\",\n            value: state.specialization,\n            onChange: e => setState({ ...state,\n              specialization: e.target.value\n            }),\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Tags (comma seperated)\",\n            value: state.tags,\n            required: true,\n            onChange: e => setState({ ...state,\n              tags: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Phone\",\n            value: state.phone,\n            required: true,\n            onChange: e => setState({ ...state,\n              phone: e.target.value\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            ref: imgRef,\n            type: \"file\",\n            accept: \"images/*\",\n            placeholder: \"Image\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n            className: error ? \"error\" : \"success\",\n            children: msg\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 14\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            disabled: loading,\n            className: \"button\",\n            children: loading ? \"Creating Doctor\" : \"Create Doctor\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n\n_s(AddDoctor, \"V3OfrYeBdPjkvzEjuiXKS7N1a/Y=\");\n\n_c = AddDoctor;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddDoctor\");","map":{"version":3,"names":["axios","React","useState","useContext","useRef","AuthContext","Layout","initialState","name","specialization","phone","tags","AddDoctor","state","setState","loading","setLoading","msg","setMsg","error","setError","auth","imgRef","token","getToken","onSubmit","e","preventDefault","formData","FormData","append","img","current","files","post","headers","authorization","target","reset","err","console","log","value"],"sources":["C:/Users/subai/OneDrive/Desktop/fyp-19/sman/sman/src/pages/admin/AddDoctor.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState, useContext, useRef } from \"react\";\nimport AuthContext from \"../../context/AuthContext\";\n\nimport Layout from \"../Layout\";\n\nconst initialState = {\n  name: \"\",\n  specialization: \"\",\n  phone: \"\",\n  tags: \"\",\n};\n\nexport default function AddDoctor() {\n  const [state, setState] = useState({ ...initialState });\n  const [loading, setLoading] = useState(false);\n  const [msg, setMsg] = useState(\"\");\n  const [error, setError] = useState(false);\n\n  const auth = useContext(AuthContext);\n  const imgRef = useRef(null);\n  const token = auth.getToken();\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMsg(\"\");\n    setError(null);\n\n    try {\n      const formData = new FormData();\n      formData.append(\"name\", state.name);\n      formData.append(\"specialization\", state.specialization);\n      formData.append(\"phone\", state.phone);\n      formData.append(\"tags\", state.tags);\n      const img = imgRef.current.files[0];\n      formData.append(\"file\", img);\n\n      await axios.post(\"/doctors\", formData, {\n        headers: { authorization: `Bearer ${token}` },\n      });\n\n      setState({ ...initialState });\n      e.target.reset();\n      setError(false);\n      setMsg(\"Doctor Created Successfully\");\n    } catch (err) {\n      console.log(err);\n      setError(true);\n    }\n\n    setLoading(false);\n  };\n\n  return (\n    <Layout>\n      <div className=\"section\">\n        <div className=\"p-1 form-container\">\n          <h1>Add a Doctor</h1>\n          <form className=\"form\" onSubmit={onSubmit}>\n            <input\n              type=\"text\"\n              placeholder=\"Dr. Name\"\n              value={state.name}\n              onChange={(e) => setState({ ...state, name: e.target.value })}\n              required={true}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Specialization\"\n              value={state.specialization}\n              onChange={(e) =>\n                setState({ ...state, specialization: e.target.value })\n              }\n              required={true}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Tags (comma seperated)\"\n              value={state.tags}\n              required={true}\n              onChange={(e) => setState({ ...state, tags: e.target.value })}\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Phone\"\n              value={state.phone}\n              required={true}\n              onChange={(e) => setState({ ...state, phone: e.target.value })}\n            />\n            <input\n              ref={imgRef}\n              type=\"file\"\n              accept=\"images/*\"\n              placeholder=\"Image\"\n              required={true}\n            />\n            {<small className={error ? \"error\" : \"success\"}>{msg}</small>}\n            <button disabled={loading} className=\"button\">\n              {loading ? \"Creating Doctor\" : \"Create Doctor\"}\n            </button>\n          </form>\n        </div>\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}