{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\subai\\\\OneDrive\\\\Desktop\\\\fyp-19\\\\sman\\\\sman\\\\src\\\\pages\\\\admin\\\\ViewMedicines.jsx\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Card from \"../../components/Card\";\nimport Layout from \"../Layout\";\nimport styles from \"./medicine.module.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ViewMedicines(_ref) {\n  _s();\n\n  let {\n    token\n  } = _ref;\n  const [state, setState] = useState([]);\n\n  const getData = async () => {\n    try {\n      const res = await axios.get(\"/medicine\");\n      setState(res.data.results);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const onDelete = async id => {\n    try {\n      await axios.delete(`/medicine/${id}`, {\n        headers: {\n          authorization: `Bearer ${token}`\n        }\n      });\n      const updatedState = [...state.filter(item => item._id !== id)];\n      setState(updatedState);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const renderCards = () => {\n    return state.map(med => /*#__PURE__*/_jsxDEV(Card, {\n      title: med.name,\n      id: med._id,\n      imgUrl: med.image,\n      type: med.type,\n      size: med.size,\n      packSize: med.packSize,\n      price: med.price,\n      discount: med.discount,\n      admin: true,\n      onDelete: () => onDelete(med._id)\n    }, med._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"List of Medicines\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.medicines,\n        children: renderCards()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ViewMedicines, \"7zZJjGiSRppMnnlYfwuyXOUEkjY=\");\n\n_c = ViewMedicines;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewMedicines\");","map":{"version":3,"names":["axios","React","useEffect","useState","Card","Layout","styles","ViewMedicines","token","state","setState","getData","res","get","data","results","err","console","log","onDelete","id","delete","headers","authorization","updatedState","filter","item","_id","error","renderCards","map","med","name","image","type","size","packSize","price","discount","medicines"],"sources":["C:/Users/subai/OneDrive/Desktop/fyp-19/sman/sman/src/pages/admin/ViewMedicines.jsx"],"sourcesContent":["import axios from \"axios\";\nimport React, { useEffect, useState } from \"react\";\nimport Card from \"../../components/Card\";\nimport Layout from \"../Layout\";\nimport styles from \"./medicine.module.css\";\n\nexport default function ViewMedicines({ token }) {\n  const [state, setState] = useState([]);\n\n  const getData = async () => {\n    try {\n      const res = await axios.get(\"/medicine\");\n      setState(res.data.results);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const onDelete = async (id) => {\n    try {\n      await axios.delete(`/medicine/${id}`, {\n        headers: { authorization: `Bearer ${token}` },\n      });\n      const updatedState = [...state.filter((item) => item._id !== id)];\n      setState(updatedState);\n    } catch (err) {\n      console.error(err);\n    }\n  };\n\n  const renderCards = () => {\n    return state.map((med) => (\n      <Card\n        title={med.name}\n        key={med._id}\n        id={med._id}\n        imgUrl={med.image}\n        type={med.type}\n        size={med.size}\n        packSize={med.packSize}\n        price={med.price}\n        discount={med.discount}\n        admin={true}\n        onDelete={() => onDelete(med._id)}\n      />\n    ));\n  };\n\n  return (\n    <Layout>\n      <div className=\"p-1\">\n        <h1>List of Medicines</h1>\n        <div className={styles.medicines}>{renderCards()}</div>\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,IAAP,MAAiB,uBAAjB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,uBAAnB;;AAEA,eAAe,SAASC,aAAT,OAAkC;EAAA;;EAAA,IAAX;IAAEC;EAAF,CAAW;EAC/C,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBP,QAAQ,CAAC,EAAD,CAAlC;;EAEA,MAAMQ,OAAO,GAAG,YAAY;IAC1B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMZ,KAAK,CAACa,GAAN,CAAU,WAAV,CAAlB;MACAH,QAAQ,CAACE,GAAG,CAACE,IAAJ,CAASC,OAAV,CAAR;IACD,CAHD,CAGE,OAAOC,GAAP,EAAY;MACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD;EACF,CAPD;;EASAd,SAAS,CAAC,MAAM;IACdS,OAAO;EACR,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMQ,QAAQ,GAAG,MAAOC,EAAP,IAAc;IAC7B,IAAI;MACF,MAAMpB,KAAK,CAACqB,MAAN,CAAc,aAAYD,EAAG,EAA7B,EAAgC;QACpCE,OAAO,EAAE;UAAEC,aAAa,EAAG,UAASf,KAAM;QAAjC;MAD2B,CAAhC,CAAN;MAGA,MAAMgB,YAAY,GAAG,CAAC,GAAGf,KAAK,CAACgB,MAAN,CAAcC,IAAD,IAAUA,IAAI,CAACC,GAAL,KAAaP,EAApC,CAAJ,CAArB;MACAV,QAAQ,CAACc,YAAD,CAAR;IACD,CAND,CAME,OAAOR,GAAP,EAAY;MACZC,OAAO,CAACW,KAAR,CAAcZ,GAAd;IACD;EACF,CAVD;;EAYA,MAAMa,WAAW,GAAG,MAAM;IACxB,OAAOpB,KAAK,CAACqB,GAAN,CAAWC,GAAD,iBACf,QAAC,IAAD;MACE,KAAK,EAAEA,GAAG,CAACC,IADb;MAGE,EAAE,EAAED,GAAG,CAACJ,GAHV;MAIE,MAAM,EAAEI,GAAG,CAACE,KAJd;MAKE,IAAI,EAAEF,GAAG,CAACG,IALZ;MAME,IAAI,EAAEH,GAAG,CAACI,IANZ;MAOE,QAAQ,EAAEJ,GAAG,CAACK,QAPhB;MAQE,KAAK,EAAEL,GAAG,CAACM,KARb;MASE,QAAQ,EAAEN,GAAG,CAACO,QAThB;MAUE,KAAK,EAAE,IAVT;MAWE,QAAQ,EAAE,MAAMnB,QAAQ,CAACY,GAAG,CAACJ,GAAL;IAX1B,GAEOI,GAAG,CAACJ,GAFX;MAAA;MAAA;MAAA;IAAA,QADK,CAAP;EAeD,CAhBD;;EAkBA,oBACE,QAAC,MAAD;IAAA,uBACE;MAAK,SAAS,EAAC,KAAf;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAK,SAAS,EAAErB,MAAM,CAACiC,SAAvB;QAAA,UAAmCV,WAAW;MAA9C;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAQD;;GAtDuBtB,a;;KAAAA,a"},"metadata":{},"sourceType":"module"}