{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\subai\\\\OneDrive\\\\Desktop\\\\fyp-19\\\\sman\\\\sman\\\\src\\\\pages\\\\admin\\\\ViewDoctors.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Layout from \"../Layout\";\nimport DrInfo from \"../../components/DrInfo\";\nimport styles from \"./doctor.module.css\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ViewDoctors(_ref) {\n  _s();\n\n  let {\n    token\n  } = _ref;\n  const [state, setState] = useState([]);\n\n  const getData = async () => {\n    try {\n      const res = await axios.get(\"/doctors\");\n      setState(res.data.results);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const deleteHandler = async id => {\n    try {\n      await axios.delete(`/doctors/${id}`, {\n        headers: {\n          authorization: `Bearer ${token}`\n        }\n      });\n      setState(state.filter(dr => dr._id !== id));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const renderDoctors = () => {\n    return state.map(dr => /*#__PURE__*/_jsxDEV(DrInfo, {\n      onDelete: () => deleteHandler(dr._id),\n      name: dr.name,\n      specialization: dr.specialization,\n      phone: dr.phone,\n      imgUrl: `http://localhost:5000/media/${dr.image}`,\n      admin: true\n    }, dr._id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 35,\n      columnNumber: 7\n    }, this));\n  };\n\n  return /*#__PURE__*/_jsxDEV(Layout, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-1\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"List of doctors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: styles.doctors,\n        children: renderDoctors()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 5\n  }, this);\n}\n\n_s(ViewDoctors, \"7zZJjGiSRppMnnlYfwuyXOUEkjY=\");\n\n_c = ViewDoctors;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewDoctors\");","map":{"version":3,"names":["React","useEffect","useState","Layout","DrInfo","styles","axios","ViewDoctors","token","state","setState","getData","res","get","data","results","err","console","log","deleteHandler","id","delete","headers","authorization","filter","dr","_id","renderDoctors","map","name","specialization","phone","image","doctors"],"sources":["C:/Users/subai/OneDrive/Desktop/fyp-19/sman/sman/src/pages/admin/ViewDoctors.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport Layout from \"../Layout\";\nimport DrInfo from \"../../components/DrInfo\";\nimport styles from \"./doctor.module.css\";\nimport axios from \"axios\";\n\nexport default function ViewDoctors({ token }) {\n  const [state, setState] = useState([]);\n\n  const getData = async () => {\n    try {\n      const res = await axios.get(\"/doctors\");\n      setState(res.data.results);\n    } catch (err) {\n      console.log(err);\n    }\n  };\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const deleteHandler = async (id) => {\n    try {\n      await axios.delete(`/doctors/${id}`, {\n        headers: { authorization: `Bearer ${token}` },\n      });\n      setState(state.filter((dr) => dr._id !== id));\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  const renderDoctors = () => {\n    return state.map((dr) => (\n      <DrInfo\n        onDelete={() => deleteHandler(dr._id)}\n        key={dr._id}\n        name={dr.name}\n        specialization={dr.specialization}\n        phone={dr.phone}\n        imgUrl={`http://localhost:5000/media/${dr.image}`}\n        admin={true}\n      />\n    ));\n  };\n  return (\n    <Layout>\n      <div className=\"p-1\">\n        <h1>List of doctors</h1>\n        <div className={styles.doctors}>{renderDoctors()}</div>\n      </div>\n    </Layout>\n  );\n}\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,MAAP,MAAmB,WAAnB;AACA,OAAOC,MAAP,MAAmB,yBAAnB;AACA,OAAOC,MAAP,MAAmB,qBAAnB;AACA,OAAOC,KAAP,MAAkB,OAAlB;;AAEA,eAAe,SAASC,WAAT,OAAgC;EAAA;;EAAA,IAAX;IAAEC;EAAF,CAAW;EAC7C,MAAM,CAACC,KAAD,EAAQC,QAAR,IAAoBR,QAAQ,CAAC,EAAD,CAAlC;;EAEA,MAAMS,OAAO,GAAG,YAAY;IAC1B,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMN,KAAK,CAACO,GAAN,CAAU,UAAV,CAAlB;MACAH,QAAQ,CAACE,GAAG,CAACE,IAAJ,CAASC,OAAV,CAAR;IACD,CAHD,CAGE,OAAOC,GAAP,EAAY;MACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD;EACF,CAPD;;EAQAf,SAAS,CAAC,MAAM;IACdU,OAAO;EACR,CAFQ,EAEN,EAFM,CAAT;;EAIA,MAAMQ,aAAa,GAAG,MAAOC,EAAP,IAAc;IAClC,IAAI;MACF,MAAMd,KAAK,CAACe,MAAN,CAAc,YAAWD,EAAG,EAA5B,EAA+B;QACnCE,OAAO,EAAE;UAAEC,aAAa,EAAG,UAASf,KAAM;QAAjC;MAD0B,CAA/B,CAAN;MAGAE,QAAQ,CAACD,KAAK,CAACe,MAAN,CAAcC,EAAD,IAAQA,EAAE,CAACC,GAAH,KAAWN,EAAhC,CAAD,CAAR;IACD,CALD,CAKE,OAAOJ,GAAP,EAAY;MACZC,OAAO,CAACC,GAAR,CAAYF,GAAZ;IACD;EACF,CATD;;EAWA,MAAMW,aAAa,GAAG,MAAM;IAC1B,OAAOlB,KAAK,CAACmB,GAAN,CAAWH,EAAD,iBACf,QAAC,MAAD;MACE,QAAQ,EAAE,MAAMN,aAAa,CAACM,EAAE,CAACC,GAAJ,CAD/B;MAGE,IAAI,EAAED,EAAE,CAACI,IAHX;MAIE,cAAc,EAAEJ,EAAE,CAACK,cAJrB;MAKE,KAAK,EAAEL,EAAE,CAACM,KALZ;MAME,MAAM,EAAG,+BAA8BN,EAAE,CAACO,KAAM,EANlD;MAOE,KAAK,EAAE;IAPT,GAEOP,EAAE,CAACC,GAFV;MAAA;MAAA;MAAA;IAAA,QADK,CAAP;EAWD,CAZD;;EAaA,oBACE,QAAC,MAAD;IAAA,uBACE;MAAK,SAAS,EAAC,KAAf;MAAA,wBACE;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADF,eAEE;QAAK,SAAS,EAAErB,MAAM,CAAC4B,OAAvB;QAAA,UAAiCN,aAAa;MAA9C;QAAA;QAAA;QAAA;MAAA,QAFF;IAAA;MAAA;MAAA;MAAA;IAAA;EADF;IAAA;IAAA;IAAA;EAAA,QADF;AAQD;;GA/CuBpB,W;;KAAAA,W"},"metadata":{},"sourceType":"module"}